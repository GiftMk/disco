type UploadDetailsPayload {
	audioUploadUrl: String!
	audioFilename: String!
	imageUploadUrl: String!
	imageFilename: String!
}

type UploadDetailsError {
	message: String!
}

union UploadDetailsResponse = UploadDetailsPayload | UploadDetailsError

input UploadDetailsInput {
	audioExtension: String!
	imageExtension: String!
}

type Query {
	ping: String!
	uploadDetails(input: UploadDetailsInput!): UploadDetailsResponse!
}

input NormaliseAudioSettings {
	integrated: Float!
	truePeak: Float!
	loudnessRange: Float!
}

input NormaliseAudioInput {
	audioFilename: String!
	settings: NormaliseAudioSettings
}

type NormaliseAudioPayload {
	outputFilename: String!
}

type NormaliseAudioError {
	message: String!
}

union NormaliseAudioResponse = NormaliseAudioPayload | NormaliseAudioError

input CreateVideoInput {
	audioFilename: String!
	imageFilename: String!
	enableAudioNormalisation: Boolean
	normaliseAudioSettings: NormaliseAudioSettings
}

type CreateVideoPayload {
	outputFilename: String!
}

type CreateVideoError {
	message: String!
}

union CreateVideoResponse = CreateVideoPayload | CreateVideoError

type Mutation {
	normaliseAudio(input: NormaliseAudioInput!): NormaliseAudioResponse!
	createVideo(input: CreateVideoInput!): CreateVideoResponse!
}

type CreatingVideoPayload {
	percentageComplete: Float
}

type CreatingVideoError {
	message: String!
}

union CreatingVideoResponse = CreateVideoPayload | CreateVideoError

type Subscription {
	creatingVideo: CreatingVideoResponse!
}
